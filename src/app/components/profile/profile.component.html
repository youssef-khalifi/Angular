
<div class="container">
  <div class="main-body">
    <div class="row">
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img [src]="'data:image/png;base64,'+teacher?.image " alt="profile" class="rounded-circle p-1 bg-primary" width="110">
              <div class="mt-3">
                <h4>{{teacher?.fullName}}</h4>
                <p class="text-secondary mb-1">{{teacher?.jobTitle}}</p>
                <p class="text-muted font-size-sm">{{teacher?.university}}</p>
              </div>
            </div>
            <hr class="my-4">
            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>University</h6>
                <span class="text-secondary">{{teacher?.university}}</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <h6 class="mb-0">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-briefcase">
                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                    <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                  </svg>
                  {{ teacher?.role === 'Teacher' ? 'Profession' : 'Job' }}
                </h6>
                <span class="text-secondary">{{ teacher?.jobTitle }}</span>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>Email</h6>
                <span class="text-secondary">{{ teacher?.email }}</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-phone"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>Phone Number</h6>
                <span class="text-secondary">{{teacher?.phoneNumber}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-lg-8">
        <div class="card">
          <form [formGroup]="teacherForm" (ngSubmit)="updateUser()">
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Full Name</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" id="fullName" formControlName="fullName" [ngModel]="teacher?.fullName">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Phone</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control"  [ngModel]="teacher?.phoneNumber" id="phoneNumber"  formControlName="phoneNumber">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">University</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" [ngModel]="teacher?.university" formControlName="university" id="university">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">{{ teacher?.role === 'Teacher' ? 'Profession' : 'Job' }}</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" [ngModel]="teacher?.jobTitle" formControlName="jobTitle" id="jobTitle">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Image</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input  class="form-control"  type="file" id="image" (change)="onFileChange($event)" >
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Password</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="password" class="form-control" [value]="teacher?.password" id="password" formControlName="password">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Confirm Password</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="password" class="form-control" formControlName="confirmPassword">
                </div>
              </div>
              <div class="row">
                <div class="col-sm-3"></div>
                <div class="col-sm-9 text-secondary">
                  <button type="submit" [disabled]="teacherForm.invalid" class="btn btn-primary px-4" >Save Changes</button>
                </div>
              </div>
            </div>
          </form>

        </div>
        <div class="row" *ngIf="authService.hasRole('Teacher')">
          <div class="col-sm-12">
            <div class="card" >
              <div class="card-body" >
                <h5 class="d-flex align-items-center mb-3">List of Courses</h5>
                <table class="table" >
                  <thead >
                  <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Type</th>
                    <th scope="col">Date</th>
                  </tr>
                  </thead>
                  <tbody *ngFor="let course of teacher?.courses">
                  <tr>
                    <td>{{ course.name }}</td>
                    <td>{{course.courType}}</td>
                    <td>{{course.createdAt}}</td>
                  </tr>

                  </tbody>
                </table>
                <div class="progress mb-3" style="height: 5px">
                  <div class="progress-bar bg-primary" role="progressbar" style="width: 100%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
